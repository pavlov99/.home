#!/bin/bash

# Colors
red='\e[0;31m';
cyan='\e[0;36m';
nc='\e[0m';

print () { echo; echo -e ${cyan} ${1}${nc}; }

configure_locales () {
    print 'Configure locales.'
    dpkg-reconfigure locales
    sudo locale-gen ru_RU.UTF-8
    sudo locale-gen en_US.UTF-8
}

update_system () {
    print 'Update system.'
    sudo apt-get update -y
    sudo apt-get upgrade -y
}

install_dev_tools () {
    print 'Install dev tools.'
    sudo apt-get install -y build-essential python-dev python3 python3-dev git-core exuberant-ctags python-software-properties subversion vim-nox python-setuptools nodejs screen
}

install_python_modules () {
    print 'Install python modules.'
    sudo easy_install -U setuptools
    for I in "pip virtualenv virtualenv-clone ipython ipdb pylint"; do
        (python -c "import $I" 2>/dev/null || {
            echo -e ${red}$I${cyan} not found! Attempting to install... $nc;
            sudo easy_install -U $I
        }) && echo -e ${cyan}$I installed.${nc}
    done
}

setup () {
    configure_locales
    update_system
    install_dev_tools
    install_python_modules
}

setup
